<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shivgauri Agro - Your Partner in Farming Success</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for custom colors and font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'agro-green': '#16A34A', // A deep, strong green
                        'agro-yellow': '#FBBF24', // A harvest yellow/amber
                        'agro-dark': '#1F2937', // Dark gray for text
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Ensuring Inter is used */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    </style>
</head>
<body class="bg-gray-50 font-sans antialiased text-agro-dark">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <h1 class="text-2xl font-extrabold text-agro-green tracking-wider">
                ‡§∂‡§ø‡§µ‡§ó‡•å‡§∞‡•Ä <span class="text-agro-dark">Agro</span>
            </h1>
            <!-- Primary CTA for Mobile/Desktop -->
            <a href="#contact" class="px-4 py-2 bg-agro-green text-white font-semibold text-sm rounded-lg shadow-lg hover:bg-green-700 transition duration-300 transform hover:scale-105">
                ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§∏‡§≤‡§æ‡§π ‡§ï‡•â‡§≤
            </a>
        </div>
    </header>

    <main>
        <!-- 1. Hero Section -->
        <section class="bg-gray-100 pt-16 pb-20 md:py-32">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <p class="text-lg md:text-xl text-agro-green font-semibold mb-3">‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§</p>
                <h2 class="text-4xl sm:text-5xl lg:text-7xl font-extrabold mb-6 leading-tight">
                    ‡§Ü‡§™‡§ï‡•á ‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø,<br class="hidden sm:inline"> ‡§π‡§Æ‡§æ‡§∞‡•Ä <span class="text-agro-green">‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡•Ä‡•§</span>
                </h2>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-10">
                    ‡§π‡§Æ ‡§ë‡§®-‡§ï‡•â‡§≤ ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§∂‡•Å‡§≤‡•ç‡§ï ‡§ë‡§®-‡§∏‡§æ‡§á‡§ü ‡§´‡§æ‡§∞‡•ç‡§Æ ‡§µ‡§ø‡§ú‡§ø‡§ü ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§≠‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§
                </p>
                <!-- UPDATED PHONE NUMBER HERE -->
                <a href="tel:8625830898" class="inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-bold rounded-xl shadow-xl text-white bg-agro-yellow hover:bg-yellow-600 transition duration-300 transform hover:scale-105 ring-4 ring-agro-yellow/50">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                    ‡§´‡•ç‡§∞‡•Ä ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç: 8625830898
                </a>
            </div>
        </section>

        <!-- 2. Services Section -->
        <section id="services" class="py-16 md:py-24 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl sm:text-4xl font-extrabold text-center mb-12">‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Å: ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞</h3>

                <div class="grid md:grid-cols-2 gap-8 lg:gap-12">

                    <!-- Service Card 1: Free On-Call Consultation -->
                    <div class="bg-green-50 border-t-4 border-agro-green p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-xl transition duration-300">
                        <div class="flex items-center mb-4">
                            <div class="bg-agro-green/10 p-3 rounded-full mr-4">
                                <svg class="w-8 h-8 text-agro-green" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                            </div>
                            <h4 class="text-2xl font-bold text-agro-dark">‡§Æ‡•Å‡§´‡•ç‡§§ ‡§´‡•ã‡§®/‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§∏‡§≤‡§æ‡§π</h4>
                        </div>
                        <p class="text-gray-600 mb-6">
                            ‡§õ‡•ã‡§ü‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç, ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§®, ‡§Ø‡§æ ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§∏‡§≤‡§æ‡§π ‡§ï‡•á ‡§≤‡§ø‡§è‡•§ ‡§π‡§Æ ‡§∏‡§Æ‡§ù‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§π‡§∞ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Æ‡§¶‡§¶ ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700 mb-8 ml-4">
                            <li>‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§´‡§∏‡§≤ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ú‡§æ‡§Å‡§ö</li>
                            <li>‡§ï‡•Ä‡§ü ‡§Ø‡§æ ‡§∞‡•ã‡§ó ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§®</li>
                            <li>‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç ‡§™‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</li>
                        </ul>
                        <!-- UPDATED PHONE NUMBER HERE -->
                        <a href="tel:8625830898" class="block w-full text-center py-3 bg-agro-green text-white font-semibold rounded-lg hover:bg-green-700 transition duration-300">
                            ‡§Ö‡§≠‡•Ä ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§∏‡§≤‡§æ‡§π ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
                        </a>
                    </div>

                    <!-- Service Card 2: Paid On-Site Consultation -->
                    <div class="bg-yellow-50 border-t-4 border-agro-yellow p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-xl transition duration-300">
                        <div class="flex items-center mb-4">
                            <div class="bg-agro-yellow/10 p-3 rounded-full mr-4">
                                <svg class="w-8 h-8 text-agro-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243m12.424-1.414l-4.242 4.242m-4.242-4.242L10.985 13.985a1.998 1.998 0 002.828 0l4.242-4.242M12 21a9 9 0 100-18 9 9 0 000 18z"></path></svg>
                            </div>
                            <h4 class="text-2xl font-bold text-agro-dark">‡§∏‡§∂‡•Å‡§≤‡•ç‡§ï ‡§ë‡§®-‡§∏‡§æ‡§á‡§ü ‡§µ‡§ø‡§ú‡§º‡§ø‡§ü</h4>
                        </div>
                        <p class="text-gray-600 mb-6">
                            ‡§ó‡§π‡§® ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£, ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§ø‡§§ ‡§´‡§∏‡§≤ ‡§Ø‡•ã‡§ú‡§®‡§æ, ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§ñ‡•á‡§§ ‡§™‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§¶‡•å‡§∞‡§æ‡•§ (‡§∂‡•Å‡§≤‡•ç‡§ï ‡§≤‡§æ‡§ó‡•Ç)
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700 mb-8 ml-4">
                            <li>‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§î‡§∞ ‡§ú‡§≤ ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£</li>
                            <li>‡§´‡§∏‡§≤ ‡§ö‡§ï‡•ç‡§∞ ‡§î‡§∞ ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§ï‡•Ä ‡§ï‡§∏‡•ç‡§ü‡§Æ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§ñ‡•á‡§§ ‡§ï‡•Ä ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§ï‡§§‡§æ ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü</li>
                        </ul>
                        <a href="#contact-form" class="block w-full text-center py-3 bg-agro-dark text-white font-semibold rounded-lg hover:bg-gray-700 transition duration-300">
                            ‡§ë‡§®-‡§∏‡§æ‡§á‡§ü ‡§µ‡§ø‡§ú‡§º‡§ø‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§ï‡§∞‡•á‡§Ç
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 3. Gemini LLM Feature: Instant Crop Advice -->
        <section class="py-16 md:py-24 bg-agro-green/10" id="gemini-advice">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl sm:text-4xl font-extrabold text-center mb-4 text-agro-dark">
                    ‚ú® ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§´‡§∏‡§≤ ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§∏‡§≤‡§æ‡§π (Ask the AI)
                </h3>
                <p class="text-center text-lg text-gray-600 mb-8">
                    ‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§î‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç, ‡§î‡§∞ ‡§π‡§Æ‡§æ‡§∞‡§æ AI ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï ‡§®‡§ø‡§¶‡§æ‡§® ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§¶‡•á‡§ó‡§æ‡•§ (‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡§≤‡§æ‡§π ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§π‡§Æ‡•á‡§Ç ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç!)
                </p>

                <div class="bg-white p-6 sm:p-8 rounded-xl shadow-2xl">
                    <div class="space-y-4">
                        <div>
                            <label for="crop_query" class="block text-sm font-medium text-gray-700">‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç (‡§ú‡•à‡§∏‡•á: ‡§ó‡•á‡§π‡•Ç‡§Å ‡§Æ‡•á‡§Ç ‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§™‡•Ä‡§≤‡•Ä ‡§™‡§°‡§º ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç)</label>
                            <textarea id="crop_query" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green" placeholder="‡§ï‡•É‡§™‡§Ø‡§æ 1-2 ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç..."></textarea>
                        </div>
                        <button onclick="generateAdvice()" id="adviceButton" class="w-full py-3 bg-agro-yellow text-agro-dark font-bold text-lg rounded-lg shadow-md hover:bg-yellow-600 transition duration-300 flex items-center justify-center disabled:opacity-50">
                            <svg class="w-5 h-5 mr-2 animate-spin hidden" id="loadingIcon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M16.03 5.093l-4.524 9.048-4.524-9.048a1 1 0 011.664-.99l2.86 2.86 2.86-2.86a1 1 0 011.664.99z"></path></svg>
                            ‚ú® ‡§∏‡§≤‡§æ‡§π ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </div>

                    <!-- AI Results Area -->
                    <div id="aiResultContainer" class="mt-8 border-t border-gray-200 pt-6 hidden">
                        <h4 class="text-xl font-bold text-agro-green mb-3">AI ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§®‡§ø‡§¶‡§æ‡§®:</h4>
                        <div id="aiResponse" class="p-4 bg-green-50 rounded-lg text-gray-700 whitespace-pre-wrap leading-relaxed"></div>
                        <div id="aiSources" class="mt-4 text-xs text-gray-500 italic border-t pt-2"></div>
                        <div class="mt-4 p-3 bg-yellow-100 border-l-4 border-agro-yellow rounded-lg">
                            <p class="text-sm font-semibold text-agro-dark">
                                üí° ‡§Ø‡§π ‡§è‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø AI ‡§®‡§ø‡§¶‡§æ‡§® ‡§π‡•à‡•§ ‡§Ö‡§™‡§®‡•á ‡§ñ‡•á‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§ü‡•Ä‡§ï ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§π‡•á‡§§‡•Å, ‡§ï‡•É‡§™‡§Ø‡§æ **‡§∂‡§ø‡§µ‡§ó‡•å‡§∞‡•Ä ‡§è‡§ó‡•ç‡§∞‡•ã** ‡§ï‡•á ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û‡•ã‡§Ç ‡§ï‡•ã <a href="tel:8625830898" class="text-agro-green font-bold">8625830898</a> ‡§™‡§∞ ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. About Us / Trust Section (Original 3) -->
        <section class="py-16 md:py-24 bg-gray-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl sm:text-4xl font-extrabold text-center mb-12">‡§π‡§Æ ‡§ï‡•å‡§® ‡§π‡•à‡§Ç: ‡§∂‡§ø‡§µ‡§ó‡•å‡§∞‡•Ä ‡§è‡§ó‡•ç‡§∞‡•ã</h3>
                <div class="max-w-4xl mx-auto text-center">
                    <p class="text-lg text-gray-700 mb-6">
                        ‡§π‡§Æ, ‡§∂‡§ø‡§µ ‡§î‡§∞ ‡§ó‡•å‡§∞‡•Ä, ‡§ï‡•É‡§∑‡§ø ‡§Æ‡•á‡§Ç ‡§¶‡§∂‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ø‡§π ‡§Æ‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§∏‡§π‡•Ä ‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§∏‡§π‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•Ä ‡§ï‡§ø‡§∏‡•ç‡§Æ‡§§ ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§ '‡§∂‡§ø‡§µ‡§ó‡•å‡§∞‡•Ä' ‡§®‡§æ‡§Æ ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø, ‡§â‡§∞‡•ç‡§µ‡§∞‡§§‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§™‡§£ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï ‡§π‡•à, ‡§î‡§∞ ‡§π‡§Æ ‡§á‡§∏‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ ‡§∏‡•á ‡§π‡§∞ ‡§ñ‡•á‡§§ ‡§ï‡•ã ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç‡•§
                    </p>
                    <p class="text-lg text-gray-700 font-semibold">
                        ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§® ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§î‡§∞ ‡§ü‡§ø‡§ï‡§æ‡§ä ‡§ï‡•É‡§∑‡§ø ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ ‡§π‡•à‡•§
                    </p>
                    <div class="mt-8 flex justify-center space-x-4">
                        <!-- Placeholder for founders' images/icons -->
                        <span class="inline-flex items-center justify-center h-16 w-16 rounded-full bg-agro-green/20 text-agro-green text-3xl font-bold">‡§∂</span>
                        <span class="inline-flex items-center justify-center h-16 w-16 rounded-full bg-agro-yellow/20 text-agro-yellow text-3xl font-bold">‡§ó</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Contact Form / CTA Section (Original 4) -->
        <section id="contact" class="py-16 md:py-24 bg-white">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl sm:text-4xl font-extrabold text-center mb-4">‡§ë‡§®-‡§∏‡§æ‡§á‡§ü ‡§µ‡§ø‡§ú‡§º‡§ø‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§ï‡§∞‡•á‡§Ç</h3>
                <p class="text-center text-lg text-gray-600 mb-12">‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ø‡§π ‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§≠‡§∞‡•á‡§Ç, ‡§î‡§∞ ‡§π‡§Æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§</p>

                <div id="contact-form" class="bg-gray-50 p-6 sm:p-10 rounded-xl shadow-2xl border border-gray-100">
                    <!-- Form now handles submission via Firestore instead of Formspree -->
                    <form id="contactForm" onsubmit="handleSubmit(event)">
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label for="name" class="block text-sm font-medium text-gray-700">‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                                <input type="text" id="name" name="Name" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green">
                            </div>
                            <div class="space-y-2">
                                <label for="phone" class="block text-sm font-medium text-gray-700">‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞</label>
                                <input type="tel" id="phone" name="Phone" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green">
                            </div>
                        </div>

                        <div class="mt-6 space-y-2">
                            <label for="email" class="block text-sm font-medium text-gray-700">‡§à‡§Æ‡•á‡§≤ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)</label>
                            <input type="email" id="email" name="Email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green">
                        </div>

                        <div class="mt-6 space-y-2">
                            <label for="location" class="block text-sm font-medium text-gray-700">‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§® (‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§î‡§∞ ‡§ú‡§ø‡§≤‡§æ)</label>
                            <input type="text" id="location" name="Location" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green">
                        </div>

                        <div class="mt-6 space-y-2">
                            <label for="message" class="block text-sm font-medium text-gray-700">‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§ö‡•Ä‡§ú‡§º ‡§™‡§∞ ‡§∏‡§≤‡§æ‡§π ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?</label>
                            <textarea id="message" name="Message" rows="4" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-agro-green focus:border-agro-green"></textarea>
                        </div>

                        <button type="submit" id="submitButton" class="mt-8 w-full py-3 bg-agro-green text-white font-bold text-lg rounded-lg shadow-md hover:bg-green-700 transition duration-300">
                            ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </form>
                    
                    <!-- Dynamic Status Message Area -->
                    <div id="formStatus" class="mt-4 hidden"></div>

                </div>
            </div>
        </section>

        <!-- 6. Submissions Dashboard (NEW SECTION) -->
        <section class="py-16 md:py-24 bg-gray-100" id="submissions">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl sm:text-4xl font-extrabold text-center mb-6">‡§Ü‡§™‡§ï‡•á ‡§∏‡§¨‡§Æ‡§ø‡§∂‡§® (Database Records)</h3>
                <p class="text-center text-gray-600 mb-8">‡§Ø‡§π ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à ‡§ï‡§ø ‡§°‡•á‡§ü‡§æ ‡§∏‡•Ä‡§ß‡•á ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‡•§</p>
                <div id="submissionsList" class="space-y-4">
                    <!-- Submissions will be listed here -->
                    <p class="text-center text-gray-500" id="loadingSubmissions">‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-agro-dark py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-400">
            <p class="mb-2">¬© 2024 Shivgauri Agro. All rights reserved.</p>
            <p class="text-sm">
                ‡§à‡§Æ‡•á‡§≤: <a href="mailto:gayatrisbairagi@gmail.com" class="text-agro-green hover:text-agro-yellow">gayatrisbairagi@gmail.com</a> | ‡•û‡•ã‡§®: <a href="tel:8625830898" class="text-agro-green hover:text-agro-yellow">8625830898</a>
            </p>
        </div>
    </footer>

    <!-- JavaScript for Firebase and Form Submission -->
    <script type="module">
        // Firebase Imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global Firebase Variables (Mandatory environment variables)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        let db;
        let auth;
        let userId = null;

        // Initialize Firebase and Authenticate
        try {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            
            if (initialAuthToken) {
                signInWithCustomToken(auth, initialAuthToken).catch(e => {
                    console.error("Custom token sign in failed, falling back to anonymous:", e);
                    signInAnonymously(auth);
                });
            } else {
                signInAnonymously(auth);
            }

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    userId = user.uid;
                    console.log("Firebase Authenticated. User ID:", userId);
                    // Start listening for submissions once authenticated
                    setupSubmissionListener();
                } else {
                    console.log("No user signed in.");
                }
            });

        } catch(e) {
            console.error("Firebase initialization failed:", e);
        }

        // --- Firestore Specifics ---
        const SUBMISSIONS_COLLECTION_PATH = `/artifacts/${appId}/public/data/contact_submissions`;
        
        /**
         * Sets up a real-time listener for the contact form submissions.
         */
        function setupSubmissionListener() {
            if (!db) {
                document.getElementById('loadingSubmissions').textContent = '‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§';
                return;
            }

            const submissionsList = document.getElementById('submissionsList');
            const submissionsRef = collection(db, SUBMISSIONS_COLLECTION_PATH);
            
            // NOTE: orderBy() is avoided as per instructions to prevent index issues. We will sort data in JS.
            const q = query(submissionsRef);

            onSnapshot(q, (snapshot) => {
                submissionsList.innerHTML = '';
                const submissions = [];
                snapshot.forEach((doc) => {
                    // Extract data and include the document ID and sort by timestamp
                    submissions.push({ id: doc.id, ...doc.data() });
                });
                
                // Sort submissions by time (newest first) in JavaScript
                submissions.sort((a, b) => (b.timestamp?.seconds || 0) - (a.timestamp?.seconds || 0));

                if (submissions.length === 0) {
                    submissionsList.innerHTML = '<p class="text-center text-gray-500 p-4 bg-white rounded-lg shadow-md">‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§∏‡•á‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§à ‡§π‡•à‡•§</p>';
                    return;
                }

                submissions.forEach(submission => {
                    const submissionTime = submission.timestamp ? new Date(submission.timestamp.seconds * 1000).toLocaleString('hi-IN', { timeZone: 'Asia/Kolkata' }) : 'Unknown Time';

                    const item = document.createElement('div');
                    item.className = 'bg-white p-4 rounded-xl shadow-md border-l-4 border-agro-green';
                    item.innerHTML = `
                        <p class="text-sm text-gray-500 mb-1">${submissionTime} ‡§ï‡•ã ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ</p>
                        <p class="text-lg font-bold text-agro-dark">${submission.Name} (${submission.Phone})</p>
                        <p class="text-md text-gray-700">‡§∏‡•ç‡§•‡§æ‡§®: ${submission.Location}</p>
                        <p class="text-sm text-gray-600 mt-2">‡§∏‡§Ç‡§¶‡•á‡§∂: ${submission.Message.substring(0, 100)}...</p>
                    `;
                    submissionsList.appendChild(item);
                });
            }, (error) => {
                console.error("Error setting up Firestore listener:", error);
                submissionsList.innerHTML = `<p class="text-center text-red-500 p-4 bg-red-100 rounded-lg shadow-md">‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${error.message}</p>`;
            });
        }


        // --- Gemini API Logic (Unchanged but included for completeness) ---
        const apiKey = ""; // API key is provided by the environment
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
        const MAX_RETRIES = 5;

        async function exponentialBackoff(func, retries = 0) {
            try {
                return await func();
            } catch (error) {
                if (retries < MAX_RETRIES) {
                    const delay = Math.pow(2, retries) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return exponentialBackoff(func, retries + 1);
                } else {
                    console.error("Max retries reached. Failed to fetch from API.", error);
                    throw new Error("API request failed after multiple retries.");
                }
            }
        }

        async function generateAdvice() {
            const queryTextarea = document.getElementById('crop_query');
            const adviceButton = document.getElementById('adviceButton');
            const loadingIcon = document.getElementById('loadingIcon');
            const aiResultContainer = document.getElementById('aiResultContainer');
            const aiResponseDiv = document.getElementById('aiResponse');
            const aiSourcesDiv = document.getElementById('aiSources');

            const userQuery = queryTextarea.value.trim();

            if (!userQuery) {
                aiResponseDiv.innerHTML = '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§î‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§';
                aiResultContainer.classList.remove('hidden');
                return;
            }

            adviceButton.disabled = true;
            loadingIcon.classList.remove('hidden');
            aiResultContainer.classList.add('hidden');
            aiResponseDiv.textContent = '';
            aiSourcesDiv.textContent = '';

            const systemPrompt = "‡§Ü‡§™ ‡§è‡§ï ‡§Ö‡§®‡•Å‡§≠‡§µ‡•Ä ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ï‡•É‡§∑‡§ø ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§∞‡§≤ ‡§î‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§è‡§ï ‡§´‡§∏‡§≤ ‡§î‡§∞ ‡§â‡§∏‡§Æ‡•á‡§Ç ‡§Ü ‡§∞‡§π‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§§‡•Å‡§∞‡§Ç‡§§, ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï, ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§®‡§ø‡§¶‡§æ‡§® ‡§î‡§∞ ‡§â‡§™‡§ö‡§æ‡§∞ (quick remedies) ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§§‡•Ä‡§® ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§≠‡§æ‡§ó‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§≠‡§æ‡§ú‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç: 1. ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§®‡§ø‡§¶‡§æ‡§® (Probable Diagnosis), 2. ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§â‡§™‡§æ‡§Ø (Immediate Remedy) - ‡§ú‡•ã ‡§ï‡§ø‡§∏‡§æ‡§® ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à, ‡§î‡§∞ 3. ‡§Ü‡§ó‡•á ‡§ï‡•Ä ‡§∏‡§≤‡§æ‡§π (Next Steps) - ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∂‡§ø‡§µ‡§ó‡•å‡§∞‡•Ä ‡§è‡§ó‡•ç‡§∞‡•ã ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§π‡•ã‡•§ ‡§ú‡§µ‡§æ‡§¨ ‡§Æ‡•á‡§Ç ‡§∏‡§ø‡§∞‡•ç‡§´‡§º ‡§∏‡§≤‡§æ‡§π ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡•á‡§Ç, ‡§ï‡•ã‡§à ‡§Ö‡§®‡§æ‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§™‡§∞‡§ø‡§ö‡§Ø ‡§Ø‡§æ ‡§â‡§™‡§∏‡§Ç‡§π‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç‡•§";
            
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            const fetchFunc = async () => {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            };

            try {
                const result = await exponentialBackoff(fetchFunc);
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    const text = candidate.content.parts[0].text;
                    aiResponseDiv.textContent = text;
                    
                    let sourcesHtml = '‡§∏‡•ç‡§∞‡•ã‡§§: ';
                    let sources = [];
                    const groundingMetadata = candidate.groundingMetadata;

                    if (groundingMetadata && groundingMetadata.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attribution => ({
                                uri: attribution.web?.uri,
                                title: attribution.web?.title,
                            }))
                            .filter(source => source.uri && source.title);
                    }

                    if (sources.length > 0) {
                        sourcesHtml += sources.map(s => 
                            `<a href="${s.uri}" target="_blank" class="text-agro-green hover:underline">${s.title.substring(0, 50)}...</a>`
                        ).join(', ');
                        aiSourcesDiv.innerHTML = sourcesHtml;
                    } else {
                        aiSourcesDiv.textContent = '‡§ï‡•ã‡§à ‡§¨‡§æ‡§π‡§∞‡•Ä ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§';
                    }

                } else {
                    aiResponseDiv.textContent = '‡§ï‡•ç‡§∑‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç, AI ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§á‡§∏ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§®‡§ø‡§¶‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§™‡§æ‡§Ø‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§π‡§Æ‡•á‡§Ç ‡§∏‡•Ä‡§ß‡•á ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§';
                    aiSourcesDiv.textContent = '';
                }

                aiResultContainer.classList.remove('hidden');

            } catch (error) {
                aiResponseDiv.textContent = '‡§∏‡§≤‡§æ‡§π ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§è‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§¨‡§æ‡§¶ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§π‡§Æ‡•á‡§Ç ‡§∏‡•Ä‡§ß‡•á ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§';
                aiSourcesDiv.textContent = '';
                aiResultContainer.classList.remove('hidden');
            } finally {
                adviceButton.disabled = false;
                loadingIcon.classList.add('hidden');
            }
        }
        window.generateAdvice = generateAdvice; // Make it globally accessible


        // --- Firestore Form Submission Handler (Main Change) ---
        /**
         * Handles the contact form submission using Firestore to save the data.
         */
        async function handleSubmit(event) {
            event.preventDefault();
            
            if (!db) {
                const statusDiv = document.getElementById('formStatus');
                statusDiv.classList.remove('hidden');
                statusDiv.classList.add('p-3', 'bg-red-100', 'text-red-700', 'rounded-lg', 'border-l-4', 'border-red-600', 'font-semibold');
                statusDiv.innerHTML = '‚ùå **‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:** ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§Ö‡§≠‡•Ä ‡§≤‡•ã‡§° ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•á‡§ú ‡§∞‡•Ä‡§´‡§º‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§';
                return;
            }

            const form = event.target;
            const statusDiv = document.getElementById('formStatus');
            const submitButton = document.getElementById('submitButton');
            
            submitButton.disabled = true;
            statusDiv.classList.remove('hidden', 'bg-red-100', 'bg-green-100');
            statusDiv.classList.add('p-3', 'bg-yellow-100', 'text-agro-dark', 'rounded-lg', 'border-l-4', 'border-agro-yellow', 'font-semibold');
            statusDiv.innerHTML = '‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...';

            const data = {
                Name: form.Name.value,
                Phone: form.Phone.value,
                Email: form.Email.value,
                Location: form.Location.value,
                Message: form.Message.value,
                timestamp: serverTimestamp(), // Record the time of submission
                submittedByUserId: userId // Record the user who submitted (for security/tracking)
            };

            try {
                const docRef = await addDoc(collection(db, SUBMISSIONS_COLLECTION_PATH), data);

                statusDiv.classList.remove('bg-yellow-100', 'border-agro-yellow', 'border-red-600');
                statusDiv.classList.add('bg-green-100', 'border-agro-green');
                statusDiv.innerHTML = `‚úÖ **‡§∏‡§´‡§≤‡§§‡§æ!** ‡§Ü‡§™‡§ï‡•Ä ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§Æ‡•á‡§Ç **‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡•á‡§µ** ‡§π‡•ã ‡§ó‡§à ‡§π‡•à‡•§ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ID: ${docRef.id}`;
                form.reset(); // Clear the form on success
            } catch (error) {
                statusDiv.classList.remove('bg-yellow-100', 'border-agro-yellow', 'border-agro-green');
                statusDiv.classList.add('bg-red-100', 'border-red-600');
                statusDiv.innerHTML = `‚ùå **‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:** ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ‡•§ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ: ${error.message} ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡•Ä‡§ß‡•á **8625830898** ‡§™‡§∞ ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§`;
                console.error("Firestore Error:", error);
            } finally {
                submitButton.disabled = false;
            }
        }
        window.handleSubmit = handleSubmit; // Make it globally accessible

    </script>
</body>
</html>
